{% load static %}


<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons+Sharp" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="{% static 'css/estilos.css' %}">
    <title>Responsive Dashboard Design #1 | AsmrProg</title>
</head>
<body>

    <div class="container">
        <!-- Sidebar Section -->
        <aside>
            <div class="toggle">
                
                <div class="close" id="close-btn">
                    <span class="material-icons-sharp">
                        close
                    </span>
                </div>
            </div>

            <div class="sidebar">
                <a href="#">
                    <span class="material-icons-sharp">
                        dashboard
                    </span>
                    <h3>Dashboard</h3>
                </a>
                <a href="#">
                    <span class="material-icons-sharp">
                        person_outline
                    </span>
                    <h3>Users</h3>
                </a>
                <a href="#">
                    <span class="material-icons-sharp">
                        receipt_long
                    </span>
                    <h3>History</h3>
                </a>
                <a href="#" class="active">
                    <span class="material-icons-sharp">
                        insights
                    </span>
                    <h3>Analytics</h3>
                </a>
                <a href="#">
                    <span class="material-icons-sharp">
                        inventory
                    </span>
                    <h3>Sale List</h3>
                </a>
                <a href="#">
                    <span class="material-icons-sharp">
                        report_gmailerrorred
                    </span>
                    <h3>Reports</h3>
                </a>
                <a href="#">
                    <span class="material-icons-sharp">
                        settings
                    </span>
                    <h3>Settings</h3>
                </a>
                <a href="#">
                    <span class="material-icons-sharp">
                        add
                    </span>
                    <h3>New Login</h3>
                </a>
                <a href="#">
                    <span class="material-icons-sharp">
                        logout
                    </span>
                    <h3>Logout</h3>
                </a>
                <a href="{% url 'register' %}">  <!-- Asegúrate de que 'add_user' es el nombre correcto de tu ruta en urls.py -->
                    <span class="material-icons-sharp">add_circle_outline</span>
                    <h3>Add User</h3>
                </a>
            </div>
        </aside>
        <main>
            <h1>Pacientes</h1>
            <div class="search-main">
                <h2>Buscador</h2>
                <div class="new-search">
                        <form class="buscador" action="{% url 'dashboard' %}" method="get">
                            <i class="fa-solid fa-magnifying-glass input-icon" style="color: #7d8da1;"></i>
                            <input type="text" name="search" placeholder="Buscar" class="search" id="search" autocomplete="off" value="{{ query }}">
                            <button type="submit">Buscar</button>
                        </form>
                        <ul id="box-search">
                            <li><a href="articulo.html"><i class="fas fa-search"></i>HTML</a></li>
                            <li><a href="articulo.html"><i class="fas fa-search"></i>CSS</a></li>
                            <li><a href="articulo.html"><i class="fas fa-search"></i>JavaScript</a></li>
                            <li><a href="articulo.html"><i class="fas fa-search"></i>PHP</a></li>
                            <li><a href="articulo.html"><i class="fas fa-search"></i>NODEJS</a></li>
                            <li><a href="articulo.html"><i class="fas fa-search"></i>VUEJS</a></li>
                            <li><a href="articulo.html"><i class="fas fa-search"></i>Como hacer</a></li>
                            <li><a href="articulo.html"><i class="fas fa-search"></i>Como crear</a></li>
                        </ul>
                    
                        <div id="cover-ctn-search"></div>
                </div>
            </div>
            {% if clientes and search_performed %}
            <div class="new-users">
                <h2>Resultados</h2>
                {% for cliente in clientes %}
                <div class="user-list">
                    <form class="both" action="{% url 'upload' %}" method="post" enctype="multipart/form-data">
                        {% csrf_token %}
                        <input type="hidden" name="cliente_id" value="{{ cliente.id }}">
                        <label class="image-container" for="files_{{ cliente.id }}" class="custom-upload-button">
                            <img class="add" src="{% static 'img/agregar.png' %}" alt="Subir archivos">
                        </label>
                        <input type="file" name="archivo" id="files_{{ cliente.id }}" multiple accept="image/*, video/*" style="display: none;">
                        <div class="right">
                            <div class="user">
                                <h2>Nombre: {{ cliente.usuario.Nombre }} {{ cliente.usuario.Apellido_Paterno }} {{ cliente.usuario.Apellido_Materno }}</h2>
                                <p>Correo: {{ cliente.usuario.Correo }}</p>
                                <label for="ultrasonido_{{ cliente.id }}">Tipo de ultrasonido:</label>
                                <input type="text" name="ultrasonido" id="ultrasonido_{{ cliente.id }}" required pattern="[A-Za-z\s]+" title="Solo letras y espacios permitidos">
                            </div>
                            <button class="bt-add" type="submit">Subir archivos</button>
                        </div>
                    </form>
                </div>
                {% endfor %}
            </div>
            {% endif %}
            
                    <div class="recent-orders">
                        <h2>Añadidos recientemente</h2>
                        <table>
                            <thead>
                                <tr>
                                    <th>Nombre</th>
                                    <th>Apellido Paterno</th>
                                    <th>Apellido Materno</th>
                                    <th>Correo</th>
                                    <th>Número Celular</th>
                                    <th>Token</th>
                                </tr>
                            </thead>
                            <tbody>
                                {% for cliente in todos_los_clientes %}
                                <tr>
                                    <td>{{ cliente.usuario.Nombre }}</td>
                                    <td>{{ cliente.usuario.Apellido_Paterno }}</td>
                                    <td>{{ cliente.usuario.Apellido_Materno }}</td>
                                    <td>{{ cliente.usuario.Correo }}</td>
                                    <td>{{ cliente.usuario.NumeroCelular }}</td>
                                    <td>{{ cliente.Token }}</td>
                                </tr>
                                {% empty %}
                                <tr>
                                    <td colspan="6">No hay clientes añadidos recientemente.</td>
                                </tr>
                                {% endfor %}
                            </tbody>
                        </table>
                    </div>

        </main>
        <div class="right-section">
            <div class="nav">
                <button id="menu-btn">
                    <span class="material-icons-sharp">
                        menu
                    </span>
                </button>

            </div>
            <div class="user-profile">
                <div class="logo">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 753.46 323.13"><defs><style>.cls-1{fill:#94958d;}.cls-2{fill:#12935a;}.cls-3{fill:#949689;}.cls-4{fill:#019d60;}.cls-5{fill:#019d5c;}.cls-6{fill:#94968b;}.cls-7{fill:#94968a;}</style></defs><title>SALUD</title><g id="Capa_2" data-name="Capa 2"><g id="Capa_2-2" data-name="Capa 2"><path class="cls-1" d="M421,105.13s20-94,108-105c0,0,59-6,73,65,0,0-18,4-27,16,0,0-25-65-88-36,0,0-40,28-43,60Z"/><ellipse class="cls-2" cx="605.5" cy="106.13" rx="28.5" ry="30"/><path class="cls-3" d="M638,84.13s62-39,100,18-6,137-6,137-12-21-21-19c0,0,26-47-3-95,0,0-20-32-66-32Z"/><circle class="cls-2" cx="703.5" cy="251.63" r="23.5"/><ellipse class="cls-2" cx="513.5" cy="305.13" rx="19.5" ry="18"/><circle class="cls-2" cx="428.5" cy="130.63" r="15.5"/><path class="cls-1" d="M672,263.13s12,14,14,18-59,36-148,36v-12S637,301.13,672,263.13Z"/><path class="cls-4" d="M4,207.13l-4,17s52,21,61-19c0,0,7-19-30-33,0,0-19-7-3-17,0,0,15-2,24,2l6-16s-34-13-52,7c0,0-12,21,2,33,0,0,2,3,32,17,0,0,8,20-24,14Z"/><polyline class="cls-4" points="160 133.13 160 134.63 160 230.13 140 230.13 140 133.13"/><path class="cls-4" d="M103,161.13s-31,2-30,6l4,13s33-12,29,5c0,0-34,0-37,21,0,0-3,21,16,24,0,0,16,1,25-9v9h18v-49S120,161.13,103,161.13Zm5,48.75a2.45,2.45,0,0,1-.11.82,7,7,0,0,1-2.75,4.18,5.32,5.32,0,0,1-1.53,1,12.45,12.45,0,0,1-5.6,1.29c-4.57,0-8.41-2.3-9.61-5.44l-.39-.56c-3-16,19-13,19-13a38.36,38.36,0,0,1,.81,9.7,9,9,0,0,1,.17,1.5,2.83,2.83,0,0,1,0,.3c0,.05,0,.1,0,.15Z"/><path class="cls-5" d="M293,133.13v35c-4-8-21-7-21-7-21,4-26,26-26,26-1,29,7,33,7,33,20,24,42,0,42,0v9h18v-96Zm-13,82c-7.73,0-14-8.51-14-19s6.27-19,14-19,14,8.5,14,19S287.73,215.13,280,215.13Z"/><path class="cls-6" d="M366,140.13H330v90s74,8,79-39C409,191.13,415,138.13,366,140.13Zm-16,74v-61c41-6,39,29,39,29C393,219.13,350,214.13,350,214.13Z"/><rect class="cls-6" x="420" y="163.13" width="20" height="66"/><path class="cls-3" d="M498.5,163.63v8.14c-5.15-6-12.21-9.64-20-9.64-15.74,0-28.5,15-28.5,33.5s12.76,33.5,28.5,33.5a25.87,25.87,0,0,0,17.76-7.32c.05.09.09.17.13.26l-.46.05s4.57,29.51-36.43,15.51l-4,15s50,19,60-21v-68Zm-14.5,51c-7.46,0-13.5-8.29-13.5-18.5s6-18.5,13.5-18.5,13.5,8.28,13.5,18.5S491.46,214.63,484,214.63Z"/><path class="cls-7" d="M529.5,163.63v65h21l-1-42s4-10,11-8c0,0,8-2,11,8v42h20v-47s-4-18-20-20-24,11-24,11v-9Z"/><path class="cls-3" d="M605,167.13l4,14s19-13,31,0v5s-32-2-38,15,7,26,7,26,20,10,33-5v7l17-1v-46S654,150.13,605,167.13Zm35,43c-16,15-20,1-20,1-3-14,20-14,20-14A49.82,49.82,0,0,1,640,210.13Z"/><path class="cls-4" d="M235.38,227.67l1.61-65-21-.52,0,42s-4.25,9.89-11.2,7.72c0,0-8,1.8-10.79-8.27l1-42-20-.49-1.16,47s3.55,18.1,19.5,20.49,24.26-10.4,24.26-10.4l-.22,9Z"/></g></g></svg>
                    <h2>Salud Digna</h2>
                    <p>Datos</p>
                </div>
            </div>

            <div class="reminders">
                <div class="header">
                    <h2>usuario</h2>
                    <span class="material-icons-sharp">
                        notifications_none
                    </span>
                </div>
            </div>
            <div class="user-profile">
                <div class="logo">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 753.46 323.13"><defs><style>.cls-1{fill:#94958d;}.cls-2{fill:#12935a;}.cls-3{fill:#949689;}.cls-4{fill:#019d60;}.cls-5{fill:#019d5c;}.cls-6{fill:#94968b;}.cls-7{fill:#94968a;}</style></defs><title>SALUD</title><g id="Capa_2" data-name="Capa 2"><g id="Capa_2-2" data-name="Capa 2"><path class="cls-1" d="M421,105.13s20-94,108-105c0,0,59-6,73,65,0,0-18,4-27,16,0,0-25-65-88-36,0,0-40,28-43,60Z"/><ellipse class="cls-2" cx="605.5" cy="106.13" rx="28.5" ry="30"/><path class="cls-3" d="M638,84.13s62-39,100,18-6,137-6,137-12-21-21-19c0,0,26-47-3-95,0,0-20-32-66-32Z"/><circle class="cls-2" cx="703.5" cy="251.63" r="23.5"/><ellipse class="cls-2" cx="513.5" cy="305.13" rx="19.5" ry="18"/><circle class="cls-2" cx="428.5" cy="130.63" r="15.5"/><path class="cls-1" d="M672,263.13s12,14,14,18-59,36-148,36v-12S637,301.13,672,263.13Z"/><path class="cls-4" d="M4,207.13l-4,17s52,21,61-19c0,0,7-19-30-33,0,0-19-7-3-17,0,0,15-2,24,2l6-16s-34-13-52,7c0,0-12,21,2,33,0,0,2,3,32,17,0,0,8,20-24,14Z"/><polyline class="cls-4" points="160 133.13 160 134.63 160 230.13 140 230.13 140 133.13"/><path class="cls-4" d="M103,161.13s-31,2-30,6l4,13s33-12,29,5c0,0-34,0-37,21,0,0-3,21,16,24,0,0,16,1,25-9v9h18v-49S120,161.13,103,161.13Zm5,48.75a2.45,2.45,0,0,1-.11.82,7,7,0,0,1-2.75,4.18,5.32,5.32,0,0,1-1.53,1,12.45,12.45,0,0,1-5.6,1.29c-4.57,0-8.41-2.3-9.61-5.44l-.39-.56c-3-16,19-13,19-13a38.36,38.36,0,0,1,.81,9.7,9,9,0,0,1,.17,1.5,2.83,2.83,0,0,1,0,.3c0,.05,0,.1,0,.15Z"/><path class="cls-5" d="M293,133.13v35c-4-8-21-7-21-7-21,4-26,26-26,26-1,29,7,33,7,33,20,24,42,0,42,0v9h18v-96Zm-13,82c-7.73,0-14-8.51-14-19s6.27-19,14-19,14,8.5,14,19S287.73,215.13,280,215.13Z"/><path class="cls-6" d="M366,140.13H330v90s74,8,79-39C409,191.13,415,138.13,366,140.13Zm-16,74v-61c41-6,39,29,39,29C393,219.13,350,214.13,350,214.13Z"/><rect class="cls-6" x="420" y="163.13" width="20" height="66"/><path class="cls-3" d="M498.5,163.63v8.14c-5.15-6-12.21-9.64-20-9.64-15.74,0-28.5,15-28.5,33.5s12.76,33.5,28.5,33.5a25.87,25.87,0,0,0,17.76-7.32c.05.09.09.17.13.26l-.46.05s4.57,29.51-36.43,15.51l-4,15s50,19,60-21v-68Zm-14.5,51c-7.46,0-13.5-8.29-13.5-18.5s6-18.5,13.5-18.5,13.5,8.28,13.5,18.5S491.46,214.63,484,214.63Z"/><path class="cls-7" d="M529.5,163.63v65h21l-1-42s4-10,11-8c0,0,8-2,11,8v42h20v-47s-4-18-20-20-24,11-24,11v-9Z"/><path class="cls-3" d="M605,167.13l4,14s19-13,31,0v5s-32-2-38,15,7,26,7,26,20,10,33-5v7l17-1v-46S654,150.13,605,167.13Zm35,43c-16,15-20,1-20,1-3-14,20-14,20-14A49.82,49.82,0,0,1,640,210.13Z"/><path class="cls-4" d="M235.38,227.67l1.61-65-21-.52,0,42s-4.25,9.89-11.2,7.72c0,0-8,1.8-10.79-8.27l1-42-20-.49-1.16,47s3.55,18.1,19.5,20.49,24.26-10.4,24.26-10.4l-.22,9Z"/></g></g></svg>
                    <h2>Nombre Usuario</h2>
                    <p>Datos</p>
                </div>
            </div>
        </div>


    </div>
    
    <script src="{% static 'js/index.js' %}"></script>
</body>

</html>